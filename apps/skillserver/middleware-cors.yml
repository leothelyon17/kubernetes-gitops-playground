apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: skillserver-cors
  namespace: mcp-servers-dev
  labels:
    app.kubernetes.io/name: skillserver
    app.kubernetes.io/instance: skillserver-dev
    app.kubernetes.io/component: mcp-server
    app.kubernetes.io/part-of: mcp-servers
spec:
  headers:
    accessControlAllowMethods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
    accessControlAllowHeaders:
      - Content-Type
      - Authorization
      - X-Requested-With
    accessControlAllowOriginList:
      - https://mcp-inspector-dev.lib-nauto-apps.lab.aheadaviation.com
      - https://mcp-inspector-proxy-dev.lib-nauto-apps.lab.aheadaviation.com
      - http://mcp-inspector-dev.lib-nauto-apps.lab.aheadaviation.com
      - http://mcp-inspector-proxy-dev.lib-nauto-apps.lab.aheadaviation.com
    accessControlAllowCredentials: true
    accessControlMaxAge: 600
    customResponseHeaders:
      X-Content-Type-Options: "nosniff"
      X-Frame-Options: "DENY"
      Referrer-Policy: "no-referrer"
